<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="it.unina.foodlab.controller.CorsiPanelController"
            fx:id="mainPane"
            prefWidth="1200" prefHeight="700"
            stylesheets="@/it/unina/foodlab/util/dark-theme.css"
            style="-fx-font-family:'Segoe UI', Inter, system-ui; -fx-font-size:13px;
                   -fx-background-color: linear-gradient(to bottom,#0e1114,#0b1014);">

    <!-- LEFT SIDEBAR -->
    <left>
        <VBox spacing="12" BorderPane.alignment="CENTER"
              style="-fx-background-color: linear-gradient(to bottom,#1b2427,#152022);
                     -fx-background-radius: 0 14 14 0;
                     -fx-background-insets: 0;
                     -fx-padding:16;">
            <children>

                <HBox spacing="8" alignment="CENTER_LEFT"/>

                <Separator/>

                <Button fx:id="btnReport" maxWidth="Infinity" prefHeight="44"
                        style="-fx-background-color:#2b3438; -fx-text-fill:#e9f5ec; -fx-background-radius:10;
                               -fx-font-weight:bold; -fx-padding:10 12; -fx-content-display:left;
                               -fx-graphic: url('/icons/pie-chart-16.png');
                               -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.28), 10,0,0,2);">
                    <graphicTextGap>8</graphicTextGap>
                    <text>Report mensile</text>
                    <tooltip><Tooltip text="Apri il report mensile"/></tooltip>
                </Button>

                <Region VBox.vgrow="ALWAYS"/>
                <Label text="Area Chef" style="-fx-text-fill:#9fb6aa; -fx-font-size:12px;"/>
            </children>
        </VBox>
    </left>

    <!-- TOP BAR -->
    <top>
        <HBox spacing="12" alignment="CENTER_LEFT" BorderPane.alignment="CENTER"
              style="-fx-background-color: linear-gradient(to bottom,#1b2427,#152022);
                     -fx-background-radius: 0 0 14 0;
                     -fx-background-insets: 0;
                     -fx-padding:12 14;">
            <children>
                <ImageView fitHeight="44" preserveRatio="true">
                    <image><Image url="@/icons/Corsi-Logo.png"/></image>
                </ImageView>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- Filtro diretto per argomento -->
                <Label text="Argomento:"
                       style="-fx-text-fill:#e9f5ec; -fx-font-weight:700;"/>

                <ComboBox fx:id="cbFiltroArgomento"
                          prefWidth="220"
                          styleClass="dark-combobox"
                          style="-fx-background-color:#2b3438;
                                 -fx-background-radius:10;
                                 -fx-border-color: rgba(255,255,255,0.10);
                                 -fx-border-radius:10;
                                 -fx-text-fill:#e9f5ec;
                                 -fx-padding:6 10;"/>

                <Button fx:id="btnRefresh"
                        style="-fx-background-color:#2b3438; -fx-text-fill:#e9f5ec; -fx-background-radius:10; -fx-padding:8 10;
                               -fx-graphic: url('/icons/refresh-2-16.png'); -fx-content-display: graphic-only;
                               -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.25), 6,0,0,1);">
                    <tooltip><Tooltip text="Ricarica elenco corsi"/></tooltip>
                </Button>
            </children>
        </HBox>
    </top>

    <!-- CENTER CONTENT -->
    <center>
        <VBox spacing="12" style="-fx-padding: 12 20 14 14;">
            <children>

                <!-- Card contenitore tabella -->
                <HBox spacing="0"
                      style="-fx-background-color: linear-gradient(to bottom,#242c2f,#20282b);
                             -fx-border-color: rgba(255,255,255,0.06);
                             -fx-background-radius:12; -fx-border-radius:12; -fx-padding:10;">
                    <children>

                        <!-- TableView con classe 'dark-table' per hover/border accent -->
                        <TableView fx:id="table" HBox.hgrow="ALWAYS" styleClass="dark-table">
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                            </columnResizePolicy>

                            <columns>
                                <TableColumn fx:id="colId"     text="ID"         prefWidth="80"  style="-fx-alignment: CENTER;"/>
                                <TableColumn fx:id="colArg"    text="Argomento"  prefWidth="260" style="-fx-alignment: CENTER_LEFT;"/>
                                <TableColumn fx:id="colFreq"   text="Frequenza"  prefWidth="140" style="-fx-alignment: CENTER_LEFT;"/>
                                <TableColumn fx:id="colStato"  text="Stato"      prefWidth="120" style="-fx-alignment: CENTER;"/>
                                <TableColumn fx:id="colInizio" text="Inizio"     prefWidth="130" style="-fx-alignment: CENTER;"/>
                                <TableColumn fx:id="colFine"   text="Fine"       prefWidth="130" style="-fx-alignment: CENTER;"/>
                                <TableColumn fx:id="colChef"   text="Chef"       prefWidth="220" style="-fx-alignment: CENTER_LEFT;"/>
                            </columns>

                            <placeholder>
                                <Label text="Non hai ancora corsi.
Crea il primo corso per iniziare a pianificare le sessioni."
                                       style="-fx-text-fill: rgba(233,245,236,0.85);
                                              -fx-font-weight:700; -fx-padding: 12; -fx-alignment: center;"/>
                            </placeholder>
                        </TableView>

                    </children>
                </HBox>

                <!-- Bottom actions -->
                <HBox spacing="12" alignment="CENTER_RIGHT"
                      style="-fx-background-color: linear-gradient(to bottom,#1b2427,#152022);
                             -fx-background-radius:12; -fx-padding:12 14;">
                    <children>
                        <Button fx:id="btnNew" prefWidth="160" prefHeight="46"
                                style="-fx-background-color:#1fb57a; -fx-text-fill:#0a1410; -fx-font-weight:800;
                                       -fx-background-radius:12; -fx-border-radius:12;
                                       -fx-graphic: url('/icons/plus-16.png'); -fx-content-display:left;
                                       -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.28), 10,0,0,2);">
                            <graphicTextGap>8</graphicTextGap>
                            <text>Nuovo corso</text>
                        </Button>

                        <Button fx:id="btnEdit" disable="true" prefWidth="140" prefHeight="46"
                                style="-fx-background-color:#2b3438; -fx-text-fill:#e9f5ec;
                                       -fx-background-radius:12; -fx-border-radius:12;
                                       -fx-graphic: url('/icons/edit-2-16.png'); -fx-content-display:left;">
                            <graphicTextGap>8</graphicTextGap>
                            <text>Modifica</text>
                        </Button>

                        <Button fx:id="btnAssocRicette" disable="true" prefWidth="170" prefHeight="46"
                                style="-fx-background-color:#2b3438; -fx-text-fill:#e9f5ec;
                                       -fx-background-radius:12; -fx-border-radius:12;
                                       -fx-graphic: url('/icons/bill-16.png'); -fx-content-display:left;">
                            <graphicTextGap>8</graphicTextGap>
                            <text>Associa ricette</text>
                        </Button>

                        <Region HBox.hgrow="ALWAYS"/>

                        <Button fx:id="btnDelete" disable="true" prefWidth="140" prefHeight="46"
                                style="-fx-background-color:#ef4444; -fx-text-fill:#fff; -fx-font-weight:800;
                                       -fx-background-radius:12; -fx-border-radius:12;
                                       -fx-graphic: url('/icons/trash-2-16.png'); -fx-content-display:left;">
                            <graphicTextGap>8</graphicTextGap>
                            <text>Elimina</text>
                        </Button>
                    </children>
                </HBox>
            </children>
        </VBox>
    </center>

</BorderPane>
